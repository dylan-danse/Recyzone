{% extends 'base.html.twig' %}

{% block body %}

<br>
<br>

<table id="containerTable" class="table table-striped table-hover text-center">
    <thead>
    <tr>
        <th class="text-center">Container</th>
        <th class="text-center">Waste Type</th>
        <th class="text-center">Volume</th>
        <th class="text-center">Occupancy Rate</th>
        <th class="text-center">Close selection</th>
    </tr>
    </thead>
    <tbody>
    {% for container in containers %}
        <tr>
            <td>{{ container.id }}</td>
            <td>{{ container.wasteType.name }}</td>
            <td>{{ container.capacity }}</td>
            <td>{% set percentage = container.usedVolume/container.capacity*100 %} {{ percentage }}%</td>
            <td><input type="checkbox"></td>
        </tr>
    {% endfor %}
    </tbody>
    <tfoot>
    <tr>
        <td colspan="5" align="right"><button onclick="CloseContainer()" class="btn btn-danger pull-right">Close selected</button></td>
    </tr>
    </tfoot>
</table>


<script>
    $( document ).ready(function() {
        $('#containerTable').DataTable();
    });

    $('input[type=checkbox]').change(function () {
        $(this).closest('tr').find('td').toggleClass('danger', this.checked);
    });

    function CloseContainer(){
        alert("Not implemented for this project");
    }

</script>


{% endblock %}
